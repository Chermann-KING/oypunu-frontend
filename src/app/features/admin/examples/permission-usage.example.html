<!-- 
  Exemples d'utilisation du système de contrôle d'accès basé sur les rôles
  Ces exemples montrent comment utiliser les directives et services dans les templates
-->

<!-- Exemple 1: Affichage conditionnel basé sur une permission spécifique -->
<div *appHasPermission="'canViewUsers'">
  <h3>Gestion des utilisateurs</h3>
  <p>Cette section n'est visible que pour les utilisateurs ayant la permission "canViewUsers"</p>
  
  <button class="btn btn-primary">Voir tous les utilisateurs</button>
  
  <!-- Actions spécifiques selon les permissions -->
  <div class="user-actions">
    <button *appHasPermission="'canEditUsers'" class="btn btn-secondary">
      Modifier les utilisateurs
    </button>
    <button *appHasPermission="'canSuspendUsers'" class="btn btn-warning">
      Suspendre un utilisateur
    </button>
    <button *appHasPermission="'canChangeUserRoles'" class="btn btn-danger">
      Changer les rôles (Superadmin uniquement)
    </button>
  </div>
</div>

<!-- Exemple 2: Affichage basé sur le rôle -->
<div *appHasRole="UserRole.ADMIN">
  <h3>Tableau de bord Admin</h3>
  <p>Cette section n'est visible que pour les ADMINs et SUPERADMINs</p>
</div>

<!-- Exemple 3: Combinaison de rôle et permissions -->
<div *appHasPermission="'canModerateContent'" [appHasRole]="UserRole.CONTRIBUTOR">
  <h3>Modération du contenu</h3>
  <p>Visible pour les contributeurs ayant la permission de modération</p>
</div>

<!-- Exemple 4: Permissions multiples avec logique OR (par défaut) -->
<div *appHasPermission="['canViewUsers', 'canViewAnalytics']">
  <h3>Accès Admin</h3>
  <p>Visible si l'utilisateur a AU MOINS UNE des permissions listées</p>
</div>

<!-- Exemple 5: Permissions multiples avec logique AND -->
<div *appHasPermission="['canViewUsers', 'canEditUsers']" [appRequireAll]="true">
  <h3>Gestion complète des utilisateurs</h3>
  <p>Visible seulement si l'utilisateur a TOUTES les permissions listées</p>
</div>

<!-- Exemple 6: Navigation conditionnelle -->
<nav class="admin-nav">
  <a *appHasPermission="'canViewUsers'" routerLink="/admin/users" class="nav-link">
    <i class="fas fa-users"></i>
    Utilisateurs
  </a>
  
  <a *appHasPermission="'canModerateContent'" routerLink="/admin/moderation" class="nav-link">
    <i class="fas fa-gavel"></i>
    Modération
  </a>
  
  <a *appHasPermission="'canViewSystemMetrics'" routerLink="/admin/system" class="nav-link">
    <i class="fas fa-server"></i>
    Système (Superadmin uniquement)
  </a>
  
  <a *appHasPermission="'canManageCommunities'" routerLink="/admin/communities" class="nav-link">
    <i class="fas fa-globe"></i>
    Communautés
  </a>
</nav>

<!-- Exemple 7: Cards avec permissions graduées -->
<div class="admin-cards">
  <!-- Card visible pour tous les contributeurs -->
  <div *appHasRole="UserRole.CONTRIBUTOR" class="admin-card">
    <h4>Modération</h4>
    <p>Modérer les mots soumis par les utilisateurs</p>
    <button *appHasPermission="'canModerateContent'" class="btn btn-primary">
      Accéder à la modération
    </button>
  </div>
  
  <!-- Card visible uniquement pour les admins -->
  <div *appHasRole="UserRole.ADMIN" class="admin-card">
    <h4>Gestion des utilisateurs</h4>
    <p>Gérer les comptes utilisateurs et leurs permissions</p>
    <div class="card-actions">
      <button *appHasPermission="'canViewUsers'" class="btn btn-outline">
        Voir les utilisateurs
      </button>
      <button *appHasPermission="'canSuspendUsers'" class="btn btn-warning">
        Suspendre des utilisateurs
      </button>
    </div>
  </div>
  
  <!-- Card visible uniquement pour les superadmins -->
  <div *appHasRole="UserRole.SUPERADMIN" class="admin-card">
    <h4>Administration système</h4>
    <p>Accès complet aux paramètres système</p>
    <div class="card-actions">
      <button *appHasPermission="'canViewSystemMetrics'" class="btn btn-primary">
        Métriques système
      </button>
      <button *appHasPermission="'canManageSystem'" class="btn btn-danger">
        Paramètres système
      </button>
    </div>
  </div>
</div>

<!-- Exemple 8: Composant conditionnel complet -->
<div class="user-management-section">
  <h2>Gestion des utilisateurs</h2>
  
  <!-- Liste des utilisateurs - visible pour admins -->
  <div *appHasPermission="'canViewUsers'" class="users-list">
    <table class="users-table">
      <thead>
        <tr>
          <th>Nom d'utilisateur</th>
          <th>Email</th>
          <th>Rôle</th>
          <th *appHasPermission="['canEditUsers', 'canSuspendUsers']">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.role }}</td>
          <td *appHasPermission="['canEditUsers', 'canSuspendUsers']">
            <button *appHasPermission="'canEditUsers'" 
                    class="btn btn-sm btn-primary" 
                    (click)="editUser(user)">
              Modifier
            </button>
            <button *appHasPermission="'canSuspendUsers'" 
                    class="btn btn-sm btn-warning" 
                    (click)="suspendUser(user)">
              Suspendre
            </button>
            <button *appHasPermission="'canChangeUserRoles'" 
                    class="btn btn-sm btn-danger" 
                    (click)="changeUserRole(user)">
              Changer rôle
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <!-- Message pour utilisateurs sans permissions -->
  <div *ngIf="!(hasPermission('canViewUsers') | async)" class="no-permission-message">
    <i class="fas fa-lock"></i>
    <p>Vous n'avez pas les permissions nécessaires pour accéder à cette section.</p>
  </div>
</div>

<!-- Exemple 9: Formulaires conditionnels -->
<form *appHasPermission="'canManageLanguages'" class="language-form">
  <h3>Ajouter une nouvelle langue</h3>
  
  <div class="form-group">
    <label for="languageName">Nom de la langue</label>
    <input type="text" id="languageName" class="form-control">
  </div>
  
  <div class="form-group">
    <label for="languageRegion">Région</label>
    <input type="text" id="languageRegion" class="form-control">
  </div>
  
  <div class="form-actions">
    <button type="submit" class="btn btn-primary">Ajouter la langue</button>
    <button *appHasRole="UserRole.ADMIN" type="button" class="btn btn-success">
      Approuver immédiatement (Admin)
    </button>
  </div>
</form>

<!-- Exemple 10: Statistiques avec niveaux d'accès -->
<div class="statistics-dashboard">
  <h2>Statistiques de la plateforme</h2>
  
  <!-- Statistiques de base - tous les contributeurs -->
  <div *appHasPermission="'canViewAnalytics'" class="basic-stats">
    <div class="stat-card">
      <h4>Mots soumis aujourd'hui</h4>
      <span class="stat-number">{{ dailyWords }}</span>
    </div>
    <div class="stat-card">
      <h4>Mots en attente</h4>
      <span class="stat-number">{{ pendingWords }}</span>
    </div>
  </div>
  
  <!-- Statistiques avancées - admins uniquement -->
  <div *appHasPermission="'canViewUsers'" class="advanced-stats">
    <div class="stat-card">
      <h4>Nouveaux utilisateurs ce mois</h4>
      <span class="stat-number">{{ monthlyUsers }}</span>
    </div>
    <div class="stat-card">
      <h4>Utilisateurs actifs</h4>
      <span class="stat-number">{{ activeUsers }}</span>
    </div>
  </div>
  
  <!-- Métriques système - superadmins uniquement -->
  <div *appHasPermission="'canViewSystemMetrics'" class="system-metrics">
    <div class="stat-card">
      <h4>Utilisation serveur</h4>
      <span class="stat-number">{{ serverUsage }}%</span>
    </div>
    <div class="stat-card">
      <h4>Base de données</h4>
      <span class="stat-number">{{ dbSize }} GB</span>
    </div>
  </div>
</div>

<!-- 
  Note: Dans le composant TypeScript correspondant, vous devriez avoir :
  
  import { RolePermissionService } from '../services/role-permission.service';
  import { UserRole } from '../models/comprehensive-admin.models';
  
  constructor(private rolePermissionService: RolePermissionService) {}
  
  // Exposer UserRole pour le template
  UserRole = UserRole;
  
  // Méthode helper pour vérifier les permissions dans le template
  hasPermission(permission: string) {
    return this.rolePermissionService.hasPermission(permission as any);
  }
-->